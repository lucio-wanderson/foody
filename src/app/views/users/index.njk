{%extends "layout.njk"%}

{%block content%}
    <section class="user-dashboard container form">

        <form action="/users?_method=PUT" method="POST" >

            <div class="header">
                <h3>Detalhes</h3>
            </div>

            <div class="fields">
                {%include "users/fields.njk"%}

                <input type="hidden" 
                name="id"
                value="{{user.id}}">
            </div>

            <button class="button edit" type="submit">Salvar</button>

        </form>

        <form id="form-delete" action="users?_method=DELETE" method="POST">
            <input type="hidden" name="id" value="{{user.id}}">
            <button type="submit" class="button delete">Deletar</button>
        </form>

    </section>

    <script>
        const formDelete = document.querySelector("#form-delete")

        formDelete.addEventListener("submit", function(event){
            const confirmation = window.confirm("Deseja Deletar?")

            if(!confirmation) event.preventDefault()
        })
    </script>
    {%endblock%}